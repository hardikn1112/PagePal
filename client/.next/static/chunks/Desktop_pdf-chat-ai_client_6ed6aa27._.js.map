{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/Desktop/pdf-chat-ai/client/components/ui/full-pane-loader.tsx"],"sourcesContent":["\"use client\";\r\nimport * as React from \"react\";\r\n\r\nexport interface PaneStep {\r\n\ttext: string;\r\n}\r\n\r\ninterface FullPaneLoaderProps {\r\n\tsteps: PaneStep[];\r\n\tloading: boolean;\r\n\tduration?: number; // per step in ms\r\n}\r\n\r\nexport const FullPaneLoader: React.FC<FullPaneLoaderProps> = ({ steps, loading, duration = 2000 }) => {\r\n\tconst [index, setIndex] = React.useState<number>(0);\r\n\tconst listRef = React.useRef<HTMLDivElement>(null);\r\n\tconst [startOffset, setStartOffset] = React.useState<number>(0);\r\n\tconst ITEM_HEIGHT = 56; // px, keep in sync with classes below\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (!loading || steps.length === 0) return;\r\n\t\tsetIndex(0);\r\n\t\tconst id = setInterval(() => setIndex(prev => (prev + 1) % steps.length), duration);\r\n\t\treturn () => clearInterval(id);\r\n\t}, [loading, steps.length, duration]);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (!listRef.current) return;\r\n\t\tconst rect = listRef.current.getBoundingClientRect();\r\n\t\tsetStartOffset(0); // we position glow relative to list container padding\r\n\t}, [listRef.current]);\r\n\r\n\tif (!loading) return null;\r\n\r\n\treturn (\r\n\t\t<div className=\"w-full h-full relative bg-black text-white overflow-hidden\">\r\n\t\t\t{/* Active glow */}\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"pointer-events-none absolute left-1/2 -translate-x-1/2 rounded-full blur-3xl\"\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\ttop: `calc(50% - 140px + ${index * ITEM_HEIGHT}px)`,\r\n\t\t\t\t\twidth: 420,\r\n\t\t\t\t\theight: 160,\r\n\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\"radial-gradient(closest-side, rgba(0, 184, 212, 0.35), rgba(0,0,0,0))\",\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\r\n\t\t\t{/* Steps list */}\r\n\t\t\t<div className=\"w-full h-full flex items-center justify-center px-6\">\r\n\t\t\t\t<div ref={listRef} className=\"w-full max-w-xl\">\r\n\t\t\t\t\t{steps.map((s, i) => {\r\n\t\t\t\t\t\tconst isActive = i === index;\r\n\t\t\t\t\t\tconst isDone = i < index;\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={i} className=\"flex items-center gap-4 h-14 select-none\">\r\n\t\t\t\t\t\t\t\t{/* Icon */}\r\n\t\t\t\t\t\t\t\t<div className={`flex items-center justify-center h-6 w-6 rounded-full border ${isActive ? 'bg-lime-500 border-lime-400' : isDone ? 'border-white/80' : 'border-white/40'} transition-colors`}>\r\n\t\t\t\t\t\t\t\t\t{isActive || isDone ? (\r\n\t\t\t\t\t\t\t\t\t\t<svg viewBox=\"0 0 20 20\" className=\"h-4 w-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M7.5 13.1L3.9 9.5l-1.4 1.4 5 5 10-10-1.4-1.4z\" fill={isActive ? '#0b0b0b' : '#ffffff'} />\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"h-2 w-2 rounded-full bg-white/40\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{/* Text */}\r\n\t\t\t\t\t\t\t\t<div className={`text-lg ${isActive ? 'text-lime-400' : 'text-white/80'} transition-colors`}>{s.text}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}; "],"names":[],"mappings":";;;;;AACA;;;AADA;;AAaO,MAAM,iBAAgD;QAAC,EAAE,KAAK,EAAE,OAAO,EAAE,WAAW,IAAI,EAAE;;IAChG,MAAM,CAAC,OAAO,SAAS,GAAG,mNAAc,CAAS;IACjD,MAAM,UAAU,iNAAY,CAAiB;IAC7C,MAAM,CAAC,aAAa,eAAe,GAAG,mNAAc,CAAS;IAC7D,MAAM,cAAc,IAAI,sCAAsC;IAE9D,oNAAe;oCAAC;YACf,IAAI,CAAC,WAAW,MAAM,MAAM,KAAK,GAAG;YACpC,SAAS;YACT,MAAM,KAAK;+CAAY,IAAM;uDAAS,CAAA,OAAQ,CAAC,OAAO,CAAC,IAAI,MAAM,MAAM;;8CAAG;YAC1E;4CAAO,IAAM,cAAc;;QAC5B;mCAAG;QAAC;QAAS,MAAM,MAAM;QAAE;KAAS;IAEpC,oNAAe;oCAAC;YACf,IAAI,CAAC,QAAQ,OAAO,EAAE;YACtB,MAAM,OAAO,QAAQ,OAAO,CAAC,qBAAqB;YAClD,eAAe,IAAI,sDAAsD;QAC1E;mCAAG;QAAC,QAAQ,OAAO;KAAC;IAEpB,IAAI,CAAC,SAAS,OAAO;IAErB,qBACC,uOAAC;QAAI,WAAU;;0BAEd,uOAAC;gBACA,WAAU;gBACV,OAAO;oBACN,KAAK,AAAC,sBAAyC,OAApB,QAAQ,aAAY;oBAC/C,OAAO;oBACP,QAAQ;oBACR,YACC;gBACF;;;;;;0BAID,uOAAC;gBAAI,WAAU;0BACd,cAAA,uOAAC;oBAAI,KAAK;oBAAS,WAAU;8BAC3B,MAAM,GAAG,CAAC,CAAC,GAAG;wBACd,MAAM,WAAW,MAAM;wBACvB,MAAM,SAAS,IAAI;wBACnB,qBACC,uOAAC;4BAAY,WAAU;;8CAEtB,uOAAC;oCAAI,WAAW,AAAC,gEAAyJ,OAA1F,WAAW,gCAAgC,SAAS,oBAAoB,mBAAkB;8CACxK,YAAY,uBACZ,uOAAC;wCAAI,SAAQ;wCAAY,WAAU;kDAClC,cAAA,uOAAC;4CAAK,GAAE;4CAAgD,MAAM,WAAW,YAAY;;;;;;;;;;iGAGtF,uOAAC;wCAAK,WAAU;;;;;;;;;;;8CAIlB,uOAAC;oCAAI,WAAW,AAAC,WAAuD,OAA7C,WAAW,kBAAkB,iBAAgB;8CAAsB,EAAE,IAAI;;;;;;;2BAZ3F;;;;;oBAeZ;;;;;;;;;;;;;;;;;AAKL;GA9Da;KAAA","debugId":null}},
    {"offset": {"line": 148, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/Desktop/pdf-chat-ai/client/app/components/fileUpload.tsx"],"sourcesContent":["'use client'\r\nimport * as React from 'react';\r\nimport {Upload} from 'lucide-react';\r\nimport Loader from './Loader';\r\nimport { MultiStepLoader } from '@/components/ui/multi-step-loader';\r\nimport { FullPaneLoader } from '@/components/ui/full-pane-loader';\r\n\r\nconst FileUpload: React.FC = () => {\r\n\r\n\tconst [pdfUrl, setPdfUrl] = React.useState<string | null>(null);\r\n\tconst [isProcessing, setIsProcessing] = React.useState<boolean>(false);\r\n\r\n\tconst loadingStates = [\r\n\t\t{ text: 'Uploading your PDF' },\r\n\t\t{ text: 'Extracting pages' },\r\n\t\t{ text: 'Generating embeddings' },\r\n\t\t{ text: 'Connecting to Qdrant' },\r\n\t\t{ text: 'Indexing chunks' },\r\n\t\t{ text: 'Finalizing vector store' },\r\n\t\t{ text: 'Almost thereâ€¦' },\r\n\t\t{ text: 'Preparing preview' },\r\n\t];\r\n\r\n\tconst pollJobStatus = async (jobId: string) => {\r\n\t\tconst sleep = (ms: number) => new Promise((r) => setTimeout(r, ms));\r\n\t\tfor(;;){\r\n\t\t\ttry{\r\n\t\t\t\tconst res = await fetch(`http://localhost:8000/status/${jobId}`);\r\n\t\t\t\tif(!res.ok){\r\n\t\t\t\t\tawait sleep(1000);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tconst data = await res.json();\r\n\t\t\t\tif(data.status === 'completed'){\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\tif(data.status === 'failed' || data.status === 'error' || data.status === 'not_found'){\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tawait sleep(1000);\r\n\t\t\t}catch{\r\n\t\t\t\tawait sleep(1000);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleFileUpload = () => {\r\n\t\tconst el = document.createElement('input');\r\n\t\tel.setAttribute('type', 'file');\r\n\t\tel.setAttribute('accept', 'application/pdf');\r\n\t\tel.addEventListener('change', async (ev) =>{\r\n\t\t\tif(el.files && el.files.length >0) {\r\n\t\t\t\tconst file = el.files.item(0);\r\n\t\t\t\tif(file){\r\n\t\t\t\t\tconst formData = new FormData();\r\n\t\t\t\t\tformData.append('pdf', file);  \r\n\r\n\t\t\t\t\tsetIsProcessing(true);\r\n\t\t\t\t\tconst res = await fetch('http://localhost:8000/upload/pdf', {\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tbody: formData\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconst payload = await res.json();\r\n\t\t\t\t\tconsole.log('File Uploaded');\r\n\t\t\t\t\tconst ok = await pollJobStatus(payload.jobId);\r\n\t\t\t\t\tsetIsProcessing(false);\r\n\t\t\t\t\tif(ok){\r\n\t\t\t\t\t\tsetPdfUrl(URL.createObjectURL(file));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\t\t  \r\n\t\t\t}\r\n\t\t});\r\n\t\tel.click();\r\n\t}\r\n\r\n\tif (isProcessing) {\r\n\t\treturn (\r\n\t\t\t<div className='w-full h-[85vh] rounded-lg border-white border-2 overflow-hidden'>\r\n\t\t\t\t<FullPaneLoader steps={loadingStates} loading={true} duration={2000} />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tif (pdfUrl) {\r\n\t\treturn (\r\n\t\t\t<div className='w-full h-full'>\r\n\t\t\t\t<iframe src={pdfUrl} className='w-full h-[85vh] rounded-lg border-white border-2' />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='bg-slate-800 text-white shadow-2xl flex justify-center items-center p-4 rounded-lg border-white border-2'>\r\n\t\t\t<div onClick={handleFileUpload} className='flex justify-center items-center flex-col'>\r\n\t\t\t\t<h3>Upload PDF File</h3>\r\n\t\t\t\t<div className='pt-2'>\r\n\t\t\t\t\t<Upload />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n}\r\n\r\nexport default FileUpload;"],"names":[],"mappings":";;;;;AACA;AACA;AAGA;;;AALA;;;;AAOA,MAAM,aAAuB;;IAE5B,MAAM,CAAC,QAAQ,UAAU,GAAG,mNAAc,CAAgB;IAC1D,MAAM,CAAC,cAAc,gBAAgB,GAAG,mNAAc,CAAU;IAEhE,MAAM,gBAAgB;QACrB;YAAE,MAAM;QAAqB;QAC7B;YAAE,MAAM;QAAmB;QAC3B;YAAE,MAAM;QAAwB;QAChC;YAAE,MAAM;QAAuB;QAC/B;YAAE,MAAM;QAAkB;QAC1B;YAAE,MAAM;QAA0B;QAClC;YAAE,MAAM;QAAgB;QACxB;YAAE,MAAM;QAAoB;KAC5B;IAED,MAAM,gBAAgB,OAAO;QAC5B,MAAM,QAAQ,CAAC,KAAe,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG;QAC/D,OAAO;YACN,IAAG;gBACF,MAAM,MAAM,MAAM,MAAM,AAAC,gCAAqC,OAAN;gBACxD,IAAG,CAAC,IAAI,EAAE,EAAC;oBACV,MAAM,MAAM;oBACZ;gBACD;gBACA,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,IAAG,KAAK,MAAM,KAAK,aAAY;oBAC9B,OAAO;gBACR;gBACA,IAAG,KAAK,MAAM,KAAK,YAAY,KAAK,MAAM,KAAK,WAAW,KAAK,MAAM,KAAK,aAAY;oBACrF,OAAO;gBACR;gBACA,MAAM,MAAM;YACb,EAAC,UAAK;gBACL,MAAM,MAAM;YACb;QACD;IACD;IAEA,MAAM,mBAAmB;QACxB,MAAM,KAAK,SAAS,aAAa,CAAC;QAClC,GAAG,YAAY,CAAC,QAAQ;QACxB,GAAG,YAAY,CAAC,UAAU;QAC1B,GAAG,gBAAgB,CAAC,UAAU,OAAO;YACpC,IAAG,GAAG,KAAK,IAAI,GAAG,KAAK,CAAC,MAAM,GAAE,GAAG;gBAClC,MAAM,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC;gBAC3B,IAAG,MAAK;oBACP,MAAM,WAAW,IAAI;oBACrB,SAAS,MAAM,CAAC,OAAO;oBAEvB,gBAAgB;oBAChB,MAAM,MAAM,MAAM,MAAM,oCAAoC;wBAC3D,QAAQ;wBACR,MAAM;oBACP;oBACA,MAAM,UAAU,MAAM,IAAI,IAAI;oBAC9B,QAAQ,GAAG,CAAC;oBACZ,MAAM,KAAK,MAAM,cAAc,QAAQ,KAAK;oBAC5C,gBAAgB;oBAChB,IAAG,IAAG;wBACL,UAAU,IAAI,eAAe,CAAC;oBAC/B;gBACD;YACD;QACD;QACA,GAAG,KAAK;IACT;IAEA,IAAI,cAAc;QACjB,qBACC,uOAAC;YAAI,WAAU;sBACd,cAAA,uOAAC,0MAAc;gBAAC,OAAO;gBAAe,SAAS;gBAAM,UAAU;;;;;;;;;;;IAGlE;IAEA,IAAI,QAAQ;QACX,qBACC,uOAAC;YAAI,WAAU;sBACd,cAAA,uOAAC;gBAAO,KAAK;gBAAQ,WAAU;;;;;;;;;;;IAGlC;IAEA,qBACC,uOAAC;QAAI,WAAU;kBACd,cAAA,uOAAC;YAAI,SAAS;YAAkB,WAAU;;8BACzC,uOAAC;8BAAG;;;;;;8BACJ,uOAAC;oBAAI,WAAU;8BACd,cAAA,uOAAC,6PAAM;;;;;;;;;;;;;;;;;;;;;AAMZ;GA/FM;KAAA;uCAiGS","debugId":null}},
    {"offset": {"line": 325, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/Desktop/pdf-chat-ai/client/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS;IAAG,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,SAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;QAAG,OAAH,QAAA,SAAA,CAAA,KAAuB;;IACxC,OAAO,IAAA,mNAAO,EAAC,IAAA,0LAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 346, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/Desktop/pdf-chat-ai/client/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,KAA4D;QAA5D,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC,GAA5D;IACb,qBACE,uOAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,+JAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 378, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/Desktop/pdf-chat-ai/client/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,oNAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,KASb;QATa,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF,GATa;IAUd,MAAM,OAAO,UAAU,qNAAI,GAAG;IAE9B,qBACE,uOAAC;QACC,aAAU;QACV,WAAW,IAAA,+JAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 442, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/Desktop/pdf-chat-ai/client/app/components/Loader.tsx"],"sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Loader: React.FC = () => {\r\n\treturn (\r\n\t\t<StyledWrapper>\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"loader\">\r\n\t\t\t\t\t<svg viewBox=\"0 0 80 80\">\r\n\t\t\t\t\t\t<circle r={32} cy={40} cx={40} id=\"test\" />\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"loader triangle\">\r\n\t\t\t\t\t<svg viewBox=\"0 0 86 80\">\r\n\t\t\t\t\t\t<polygon points=\"43 8 79 72 7 72\" />\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"loader\">\r\n\t\t\t\t\t<svg viewBox=\"0 0 80 80\">\r\n\t\t\t\t\t\t<rect height={64} width={64} y={8} x={8} />\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</StyledWrapper>\r\n\t);\r\n}\r\n\r\nconst StyledWrapper = styled.div`\r\n\t.loader {\r\n\t\t--path: #2f3545;\r\n\t\t--dot: #5628ee;\r\n\t\t--duration: 3s;\r\n\t\twidth: 44px;\r\n\t\theight: 44px;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.loader:before {\r\n\t\tcontent: \"\";\r\n\t\twidth: 6px;\r\n\t\theight: 6px;\r\n\t\tborder-radius: 50%;\r\n\t\tposition: absolute;\r\n\t\tdisplay: block;\r\n\t\tbackground: var(--dot);\r\n\t\ttop: 37px;\r\n\t\tleft: 19px;\r\n\t\ttransform: translate(-18px, -18px);\r\n\t\tanimation: dotRect var(--duration) cubic-bezier(0.785, 0.135, 0.15, 0.86)\r\n\t\t\tinfinite;\r\n\t}\r\n\r\n\t.loader svg {\r\n\t\tdisplay: block;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.loader svg rect,\r\n\t.loader svg polygon,\r\n\t.loader svg circle {\r\n\t\tfill: none;\r\n\t\tstroke: var(--path);\r\n\t\tstroke-width: 10px;\r\n\t\tstroke-linejoin: round;\r\n\t\tstroke-linecap: round;\r\n\t}\r\n\r\n\t.loader svg polygon {\r\n\t\tstroke-dasharray: 145 76 145 76;\r\n\t\tstroke-dashoffset: 0;\r\n\t\tanimation: pathTriangle var(--duration) cubic-bezier(0.785, 0.135, 0.15, 0.86)\r\n\t\t\tinfinite;\r\n\t}\r\n\r\n\t.loader svg rect {\r\n\t\tstroke-dasharray: 192 64 192 64;\r\n\t\tstroke-dashoffset: 0;\r\n\t\tanimation: pathRect 3s cubic-bezier(0.785, 0.135, 0.15, 0.86) infinite;\r\n\t}\r\n\r\n\t.loader svg circle {\r\n\t\tstroke-dasharray: 150 50 150 50;\r\n\t\tstroke-dashoffset: 75;\r\n\t\tanimation: pathCircle var(--duration) cubic-bezier(0.785, 0.135, 0.15, 0.86)\r\n\t\t\tinfinite;\r\n\t}\r\n\r\n\t.loader.triangle {\r\n\t\twidth: 48px;\r\n\t}\r\n\r\n\t.loader.triangle:before {\r\n\t\tleft: 21px;\r\n\t\ttransform: translate(-10px, -18px);\r\n\t\tanimation: dotTriangle var(--duration) cubic-bezier(0.785, 0.135, 0.15, 0.86)\r\n\t\t\tinfinite;\r\n\t}\r\n\r\n\t@keyframes pathTriangle {\r\n\t\t33% {\r\n\t\t\tstroke-dashoffset: 74;\r\n\t\t}\r\n\r\n\t\t66% {\r\n\t\t\tstroke-dashoffset: 147;\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\tstroke-dashoffset: 221;\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes dotTriangle {\r\n\t\t33% {\r\n\t\t\ttransform: translate(0, 0);\r\n\t\t}\r\n\r\n\t\t66% {\r\n\t\t\ttransform: translate(10px, -18px);\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\ttransform: translate(-10px, -18px);\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes pathRect {\r\n\t\t25% {\r\n\t\t\tstroke-dashoffset: 64;\r\n\t\t}\r\n\r\n\t\t50% {\r\n\t\t\tstroke-dashoffset: 128;\r\n\t\t}\r\n\r\n\t\t75% {\r\n\t\t\tstroke-dashoffset: 192;\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\tstroke-dashoffset: 256;\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes dotRect {\r\n\t\t25% {\r\n\t\t\ttransform: translate(0, 0);\r\n\t\t}\r\n\r\n\t\t50% {\r\n\t\t\ttransform: translate(18px, -18px);\r\n\t\t}\r\n\r\n\t\t75% {\r\n\t\t\ttransform: translate(0, -36px);\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\ttransform: translate(-18px, -18px);\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes pathCircle {\r\n\t\t25% {\r\n\t\t\tstroke-dashoffset: 125;\r\n\t\t}\r\n\r\n\t\t50% {\r\n\t\t\tstroke-dashoffset: 175;\r\n\t\t}\r\n\r\n\t\t75% {\r\n\t\t\tstroke-dashoffset: 225;\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\tstroke-dashoffset: 275;\r\n\t\t}\r\n\t}\r\n\r\n\t.loader {\r\n\t\tdisplay: inline-block;\r\n\t\tmargin: 0 16px;\r\n\t}\r\n`;\r\n\r\nexport default Loader; "],"names":[],"mappings":";;;;;;AACA;;;;;;;;;;;;;AAEA,MAAM,SAAmB;IACxB,qBACC,uOAAC;kBACA,cAAA,uOAAC;;8BACA,uOAAC;oBAAI,WAAU;8BACd,cAAA,uOAAC;wBAAI,SAAQ;kCACZ,cAAA,uOAAC;4BAAO,GAAG;4BAAI,IAAI;4BAAI,IAAI;4BAAI,IAAG;;;;;;;;;;;;;;;;8BAGpC,uOAAC;oBAAI,WAAU;8BACd,cAAA,uOAAC;wBAAI,SAAQ;kCACZ,cAAA,uOAAC;4BAAQ,QAAO;;;;;;;;;;;;;;;;8BAGlB,uOAAC;oBAAI,WAAU;8BACd,cAAA,uOAAC;wBAAI,SAAQ;kCACZ,cAAA,uOAAC;4BAAK,QAAQ;4BAAI,OAAO;4BAAI,GAAG;4BAAG,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM5C;KAtBM;AAwBN,MAAM,gBAAgB,8OAAM,CAAC,GAAG;MAA1B;uCAgKS","debugId":null}},
    {"offset": {"line": 560, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/Desktop/pdf-chat-ai/client/app/components/chat.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { Input } from '@/components/ui/input';\r\nimport { Button } from '@/components/ui/button';\r\nimport * as React from 'react';\r\nimport Loader from './Loader';\r\n\r\ninterface Doc {\r\n    pageContent?: string;\r\n    metadata?: {\r\n        loc?: {\r\n            pageNumber?: number;\r\n        };        \r\n        source?: string;\r\n    }\r\n}\r\n\r\ninterface IMessage {\r\n    role: 'assistant' | 'user';\r\n    content?: string;\r\n    documents?: Doc[]; \r\n}\r\n\r\nconst renderFormatted = (text: string) => {\r\n    const parts = text.split(/(\\*\\*[^*]+\\*\\*)/g);\r\n    const nodes: React.ReactNode[] = [];\r\n    parts.forEach((part, i) => {\r\n        if (/^\\*\\*[^*]+\\*\\*$/.test(part)) {\r\n            const inner = part.slice(2, -2);\r\n            nodes.push(<strong key={`b-${i}`}>{inner}</strong>);\r\n        } else {\r\n            const sub = part.split('*');\r\n            sub.forEach((chunk, j) => {\r\n                nodes.push(<React.Fragment key={`t-${i}-${j}`}>{chunk}</React.Fragment>);\r\n                if (j < sub.length - 1) nodes.push(<br key={`br-${i}-${j}`} />);\r\n            });\r\n        }\r\n    });\r\n    return nodes;\r\n}\r\n\r\nconst ChatScreen: React.FC = () => {\r\n\r\n    const [placeholder, setPlaceholder] = React.useState<string>('Enter your query here')\r\n    const [message, setMessage] = React.useState<string>('');\r\n    const [messages, setMessages] = React.useState<IMessage[]>([]);\r\n    const [isSending, setIsSending] = React.useState<boolean>(false);\r\n\r\n    const handleSendChat = async () => {\r\n        if (!message.trim()) return;\r\n        const userText = message;\r\n        setMessages((prev) => [...prev, {role:'user', content:userText}]);\r\n        setMessage('');\r\n        setIsSending(true);\r\n        try {\r\n            const res = await fetch(`http://localhost:8000/chat?message=${encodeURIComponent(userText)}`);\r\n            const data = await res.json();\r\n            setPlaceholder('Enter your query here');\r\n            setMessages(prev => [...prev, {role: 'assistant', content: data?.message ?? ''}]);\r\n        } catch (e) {\r\n            setMessages(prev => [...prev, {role: 'assistant', content: 'Sorry, something went wrong.'}]);\r\n        } finally {\r\n            setIsSending(false);\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <div className='h-screen flex flex-col'>\r\n            <div className='flex-1 overflow-y-auto p-4 space-y-3'>\r\n                {messages.map((m, index) => (\r\n                    <div key={index} className={`w-full flex ${m.role === 'user' ? 'justify-end' : 'justify-start'}`}>\r\n                        <div className={`${m.role === 'user' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-900'} max-w-[75%] px-4 py-2 rounded-2xl ${m.role === 'user' ? 'rounded-br-sm' : 'rounded-bl-sm'}`}>\r\n                            {renderFormatted(m.content ?? '')}\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n                {isSending && (\r\n                    <div className='w-full flex justify-start items-center'>\r\n                        <div className='px-2 py-1 rounded-2xl'>\r\n                            <Loader />\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n            <div className='border-t p-3 bg-white sticky bottom-0'>\r\n                <div className='flex gap-3'>\r\n                    <Input value={message} onKeyDown={e => {if (e.key === 'Enter' && message.trim()) {handleSendChat()} }} onChange={e => setMessage(e.target.value)} placeholder={placeholder} />\r\n                    <Button onClick={handleSendChat} disabled={!message.trim() || isSending} className='bg-black text-white'>Send</Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n\r\n}\r\n\r\nexport default ChatScreen;"],"names":[],"mappings":"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","debugId":null}}]
}